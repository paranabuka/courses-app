<% content_for :title do %>
  Enrollments
<% end %>
<h3>
  <div class="text-center">
    Enrollments
    <span class="badge bg-info"><%= @enrollments.count %></span>
  </div>
</h3>
<p></p>
<div class="table-responsive">
  <table class="table table-bordered table-striped table-sm">
    <thead>
      <tr>
        <th>ID</th>
        <th>
          <i class="fa-solid fa-user"></i>
          User
        </th>
        <th>
          <i class="fa-solid fa-graduation-cap"></i>
          Course
        </th>
        <th>
          <i class="fa-solid fa-lock-open"></i>
          Enrolled on
        </th>
        <th>
          <i class="fa-solid fa-dollar-sign"></i>
          Price
        </th>
        <th>
          <i class="text-warning fa-solid fa-star"></i>
          Rating
        </th>
        <th>
          <i class="text-warning fa-solid fa-comment"></i>
          Review
        </th>
        <th>
          <i class="text-warning fa-solid fa-clock"></i>
          Reviewed on
        </th>
        <th colspan="3">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @enrollments.each do |enrollment| %>
        <tr>
          <td><%= enrollment.id %></td>
          <td><%= link_to enrollment.user, user_path(enrollment.user) %></td>
          <td><%= link_to enrollment.course, course_path(enrollment.course) %></td>
          <td><%= enrollment.created_at.strftime("%Y-%m-%d %H:%M") %></td>
          <td><%= number_to_currency(enrollment.price) %></td>
          <td><%= enrollment.rating %></td>
          <td><%= enrollment.review %></td>
          <td><%= enrollment.updated_at.strftime("%Y-%m-%d %H:%M") if enrollment.rating.present? %></td>
          <td><%= link_to 'See review', enrollment %></td>
          <td><%= link_to 'Add review', edit_enrollment_path(enrollment) %></td>
          <td><%= link_to 'Delete enrollment', enrollment, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <%== pagy_bootstrap_nav(@pagy) %>
</div>
<br>
